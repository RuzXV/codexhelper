.tool-hero { transition: all 0.5s ease-out; }
.calculator-main-title { display: flex; align-items: center; justify-content: center; gap: var(--spacing-3); }
.davor-title-icon {
    height: 60px;
    width: auto;
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.7));
    vertical-align: middle;
    margin-left: var(--spacing-2);
}

.quick-access-container { display: flex; justify-content: center; margin-bottom: var(--spacing-8); }
.quick-access-nav { display: flex; justify-content: center; gap: var(--spacing-3); flex-wrap: nowrap; background: rgba(20, 21, 24, 0.65); padding: var(--spacing-2); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: var(--radius-md); }
.quick-access-btn { background: var(--bg-secondary); border: 1px solid var(--border-color); padding: var(--spacing-2) var(--spacing-3); border-radius: var(--radius-md); cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; gap: var(--spacing-2); color: var(--text-primary); }
.quick-access-btn:hover { background: var(--bg-tertiary); border-color: var(--border-hover); }
.quick-access-btn.active { background: var(--accent-blue-light); border-color: var(--accent-blue); color: var(--text-primary); }
.quick-access-btn img { width: 24px; height: 24px; }
.quick-access-btn span { font-weight: 600; font-size: var(--font-size-sm); white-space: nowrap; }
.carousel-container { position: relative; width: 100%; margin: 0 auto; overflow: hidden; }
.carousel-track { display: flex; }
.carousel-slide { flex: 0 0 100%; padding: 0 25px; box-sizing: border-box; transition: opacity 0.5s ease; opacity: 0; pointer-events: none; position: absolute; top: 0; left: 0; width: 100%;}
.carousel-slide.is-active { opacity: 1; pointer-events: auto; position: relative; }
.carousel-arrow { 
    position: absolute; 
    top: 250px;
    transform: translateY(-50%); 
    background: transparent; 
    border: none; 
    color: rgba(255, 255, 255, 0.7); 
    cursor: pointer; 
    z-index: 10; 
    font-size: 3rem; 
    padding: var(--spacing-4); 
    text-shadow: 0 0 10px rgba(0,0,0,0.5); 
    transition: color 0.3s ease, opacity 0.3s ease; 
}
.carousel-arrow:hover { color: white; }
.carousel-arrow.disabled { opacity: 0.2; cursor: default; pointer-events: none; }
.carousel-arrow.prev { left: calc(50% - 520px); }
.carousel-arrow.next { right: calc(50% - 520px); }
.calculator-island { background: rgba(20, 21, 24, 0.65); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: var(--radius-lg); padding: var(--spacing-6); width: 100%; max-width: 850px; margin: 0 auto; min-height: 550px; }
.island-content .form-group { margin-bottom: var(--spacing-4); }
.island-content label { display: block; font-weight: 500; color: var(--text-secondary); margin-bottom: var(--spacing-2); }
.island-content input[type="number"] { width: 100%; background: var(--bg-primary); border: 1px solid var(--border-hover); border-radius: var(--radius-sm); padding: var(--spacing-3); color: var(--text-primary); font-size: var(--font-size-base); }
.calc-result { margin-top: var(--spacing-2); padding: var(--spacing-4); background: var(--bg-secondary); border-radius: var(--radius-md); text-align: center; font-size: var(--font-size-lg); min-height: 60px; display: flex; align-items: center; justify-content: center; gap: var(--spacing-2); position: relative; flex-direction: column;}
.calc-result strong { color: var(--accent-blue-bright); font-weight: 700; }

.calc-result.result-success::after { content: ''; position: absolute; inset: 0; border-radius: inherit; border: 2px solid transparent; animation: glow-border 1.2s ease-out; }
@keyframes glow-border { 0% { border-color: transparent; box-shadow: 0 0 0 0 transparent; } 25% { border-color: var(--accent-green); box-shadow: 0 0 15px 0 var(--accent-green); } 100% { border-color: transparent; box-shadow: 0 0 15px 0 transparent; } }
.counting-blur { filter: blur(2px); opacity: 0.8; transform: translateZ(0); }
.calc-result span, .calc-result strong { transition: filter 0.4s ease-out, opacity 0.4s ease-out; }


.tool-hero { padding-bottom: var(--spacing-12); flex-grow: 1; display: flex; flex-direction: column; }

.button-selector { display: flex; gap: var(--spacing-3); }
.selector-btn { background: var(--bg-tertiary); border: 2px solid var(--border-color); padding: var(--spacing-2) var(--spacing-4); border-radius: var(--radius-md); cursor: pointer; color: white; font-weight: 600; transition: all 0.2s ease; flex: 1; display: flex; align-items: center; justify-content: center; gap: var(--spacing-2); position: relative; }
.selector-btn:hover { border-color: rgba(255, 255, 255, 0.3); }

.selector-btn.active {
    border: 2px solid transparent;
    background-clip: padding-box, border-box;
    background-origin: padding-box, border-box;
}
.selector-btn[data-type="cavalry"].active {
    background-image: linear-gradient(var(--bg-tertiary), var(--bg-tertiary)),
                      linear-gradient(to right, #00be21, #046c04);
}
.selector-btn[data-type="infantry"].active {
    background-image: linear-gradient(var(--bg-tertiary), var(--bg-tertiary)),
                      linear-gradient(to right, #00a2d4, #006d97);
}
.selector-btn[data-type="archer"].active {
    background-image: linear-gradient(var(--bg-tertiary), var(--bg-tertiary)),
                      linear-gradient(to right, #ef4444, #b91c1c);
}
.selector-btn[data-type="engineering"].active {
    background-image: linear-gradient(var(--bg-tertiary), var(--bg-tertiary)),
                      linear-gradient(to right, #ca62e6, #8113a7);
}

.selector-btn span { text-shadow: 0 1px 2px black; }
.selector-btn.active span { color: white !important; }
.selector-btn img { height: 24px; width: auto; filter: drop-shadow(0 0 1px black); }

.selectors-container { display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-6); margin-top: var(--spacing-4); height: 440px; }
.pairing-selector-wrapper, .equipment-carousel-wrapper { min-height: 0; display: flex; flex-direction: column; height: 100%;}
.pairing-selector { display: grid; grid-template-columns: 1fr; gap: var(--spacing-2); overflow-y: auto; padding-right: var(--spacing-2); flex-grow: 1; }
.pairing-item { background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: var(--radius-md); padding: var(--spacing-2); display: flex; align-items: center; gap: var(--spacing-3); cursor: pointer; transition: all 0.2s ease; }
.pairing-item:hover { background: var(--bg-secondary); border-color: var(--border-hover); }
.pairing-item.active { background: var(--accent-blue-light); border-color: var(--accent-blue); }
.pairing-images { display: flex; align-items: center; }
.commander-icon { width: 40px; height: 40px; border-radius: 50%; border: none; }
.commander-icon.secondary { margin-left: -15px; }
.pairing-item span { font-weight: 500; font-size: calc(var(--font-size-sm) * 0.9); }

.equipment-carousel-wrapper { position: relative; }
#equipment-set-carousel { background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: var(--radius-md); padding: var(--spacing-4); text-align: center; height: 100%; display: flex; flex-direction: column; justify-content: center; }
#equipment-display { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; transition: opacity 0.15s ease-in-out; }
#equipment-display.fade-out { opacity: 0; }
.equipment-loadout-shape { position: relative; width: 280px; height: 280px; margin: 0 auto; }
.equipment-slot { position: absolute; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; transform: rotate(45deg); }
.equipment-slot img { max-width: 50px; max-height: 50px; object-fit: contain; transform: rotate(-45deg); }
.equipment-slot[data-slot="helmet"] { top: -10px; left: 110px; }
.equipment-slot[data-slot="weapon"] { top: 110px; left: 40px; }
.equipment-slot[data-slot="chest"] { top: 60px; left: 110px; }
.equipment-slot[data-slot="gloves"] { top: 110px; left: 180px; }
.equipment-slot[data-slot="legs"] { top: 160px; left: 110px; }
.equipment-slot[data-slot="boots"] { top: 230px; left: 110px; }
.equipment-set-name { font-weight: 600; font-size: var(--font-size-base); margin-top: var(--spacing-6); }
.equipment-arrow { 
    position: absolute; 
    top: 50%; 
    transform: translateY(-50%); 
    background: rgba(0,0,0,0.3); 
    border: 1px solid var(--border-color); 
    color: white; 
    border-radius: 50%; 
    width: 30px; 
    height: 30px; 
    cursor: pointer; 
    z-index: 1; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
}
#prev-set { left: 10px; }
#next-set { right: 10px; }
#pagination-dots { display: flex; justify-content: center; gap: var(--spacing-2); margin-top: var(--spacing-3); }
.dot { width: 8px; height: 8px; background: var(--border-color); border-radius: 50%; transition: background 0.2s ease; }
.dot.active { background: var(--accent-blue); }

.stats-result-display { margin-top: var(--spacing-6); padding: var(--spacing-3); background: var(--bg-secondary); border-radius: var(--radius-md); text-align: center; }
.stats-result-display h4 { color: var(--text-secondary); margin-bottom: var(--spacing-1); font-size: var(--font-size-sm); }
.stats-result-display p { font-size: var(--font-size-base); font-weight: 500; }
.stats-result-display strong { color: var(--accent-blue-bright); }

.form-group-horizontal-power { display: grid; grid-template-columns: 1fr auto 1fr; gap: var(--spacing-4); align-items: center; margin-top: var(--spacing-6); }
.input-divider { color: var(--text-secondary); font-weight: 600; align-self: center; padding-bottom: 0; }
.calc-result .conversion-label { font-size: var(--font-size-sm); color: var(--text-secondary); text-align: center; height: auto; width: 100%; margin: 0; }

.island-content.coming-soon-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    text-align: center;
    color: var(--text-secondary);
}
.island-content.coming-soon-content h3 {
    font-size: var(--font-size-2xl);
    color: var(--text-primary);
    margin-bottom: var(--spacing-4);
}


.contributor-section { padding: var(--spacing-8) var(--spacing-6) var(--spacing-16); }
.contributor-container { max-width: 1125px; margin: 0 auto; }
.contributor-box { background: linear-gradient(145deg, rgba(20, 21, 24, 0.8), rgba(30, 32, 40, 0.9)); border: 1px solid var(--border-color); border-radius: var(--radius-xl); padding: var(--spacing-6); display: flex; flex-direction: column; gap: var(--spacing-4); }
.contributor-content h3 { font-size: var(--font-size-xl); color: var(--text-primary); margin-bottom: var(--spacing-3); }
.contributor-content p { color: var(--text-secondary); line-height: 1.6; margin-bottom: var(--spacing-3); font-size: var(--font-size-xs); }
.contributor-connect { font-weight: 500; color: var(--text-primary) !important; }
.wizard-gradient { background: linear-gradient(90deg, #4cadd0, #b2f9ff); -webkit-background-clip: text; background-clip: text; color: transparent; font-weight: 700; display: inline-block; }
.contributor-actions { display: flex; flex-direction: column; gap: var(--spacing-3); padding-top: var(--spacing-3); border-top: 1px solid rgba(255, 255, 255, 0.05); }
.action-item { display: flex; align-items: center; gap: var(--spacing-3); }
.action-label { font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 500; min-width: 90px; text-align: right; }
.action-btn { display: inline-flex; align-items: center; justify-content: center; gap: var(--spacing-2); padding: var(--spacing-2) var(--spacing-4); border-radius: var(--radius-md); font-weight: 600; font-size: var(--font-size-sm); text-decoration: none; color: #FFFFFF !important; border: 1px solid rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); transition: all 0.3s ease; position: relative; overflow: hidden; z-index: 1; }
.action-btn:hover { transform: translateY(-2px); }
.discord-btn { background: rgba(88, 101, 242, 0.35); border-color: rgba(88, 101, 242, 0.7); cursor: default; }
.discord-btn:hover { background: rgba(88, 101, 242, 0.55); box-shadow: 0 0 25px rgba(88, 101, 242, 0.4); }
.discord-btn i { font-size: 1.1em; color: #FFFFFF; }
.support-btn { background: rgba(255, 221, 0, 0.35); border-color: rgba(255, 221, 0, 0.7); }
.support-btn:hover { background: rgba(255, 221, 0, 0.55); box-shadow: 0 5px 15px rgba(255, 221, 0, 0.4); }
.action-btn img { height: 20px; width: auto; }
.contributor-actions .contributor-connect { margin-bottom: var(--spacing-3); margin-top: var(--spacing-3); text-align: left; }

@media (max-width: 768px) {
    .carousel-slide { padding: 0 var(--spacing-8); } 
    .carousel-arrow { 
        font-size: 2rem; 
    }
    .carousel-arrow.prev { left: -12px; }
    .carousel-arrow.next { right: -12px; }

    .quick-access-nav { overflow-x: auto; justify-content: flex-start; }
    .tool-title { flex-direction: column; gap: var(--spacing-2); }
    .selectors-container { grid-template-columns: 1fr; min-height: auto; height: auto; }
    
    .button-selector {
        display: grid;
        grid-template-columns: 1fr 1fr;
    }

    .pairing-selector { 
        max-height: 280px; 
    }
    .pairing-item span {
        font-size: calc(var(--font-size-sm) * 0.9);
    }
    
    .equipment-arrow {
        top: 85%;
        font-size: 1.5rem;
    }
    #prev-set {
        left: calc(50% - 70px);
    }
    #next-set {
        right: calc(50% - 70px);
    }

    .contributor-box { 
        padding: var(--spacing-6);
    }

    .stats-result-display h4,
    .calc-result .conversion-label {
        font-size: var(--font-size-sm);
    }
    
    .action-item { flex-direction: column; align-items: flex-start; gap: var(--spacing-2); }
    .action-label { text-align: left; min-width: auto; }
    .action-btn { width: 100%; justify-content: center; }
}

.island-content input[type="number"]::-webkit-outer-spin-button,
.island-content input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.island-content input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}

#pairing-selector, 
#result-display, 
#conversion-result {
    transition: opacity 0.15s ease-in-out;
}

.fade-out {
    opacity: 0;
}